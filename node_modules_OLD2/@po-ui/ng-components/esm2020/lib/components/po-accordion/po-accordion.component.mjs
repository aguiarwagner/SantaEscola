import { Component, ContentChildren } from '@angular/core';
import { PoAccordionBaseComponent } from './po-accordion-base.component';
import { PoAccordionItemComponent } from './po-accordion-item/po-accordion-item.component';
import { PoAccordionService } from './services/po-accordion.service';
import * as i0 from "@angular/core";
import * as i1 from "./services/po-accordion.service";
import * as i2 from "@angular/common";
import * as i3 from "./po-accordion-item-body/po-accordion-item-body.component";
import * as i4 from "./po-accordion-item-header/po-accordion-item-header.component";
function PoAccordionComponent_section_1_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainer(0);
} }
function PoAccordionComponent_section_1_Template(rf, ctx) { if (rf & 1) {
    const _r4 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "section", 2)(1, "po-accordion-item-header", 3);
    i0.ɵɵlistener("p-toggle", function PoAccordionComponent_section_1_Template_po_accordion_item_header_p_toggle_1_listener($event) { const restoredCtx = i0.ɵɵrestoreView(_r4); const poAccordionItem_r1 = restoredCtx.$implicit; const ctx_r3 = i0.ɵɵnextContext(); return i0.ɵɵresetView(ctx_r3.headerToggle($event, poAccordionItem_r1)); });
    i0.ɵɵelementEnd();
    i0.ɵɵelementStart(2, "po-accordion-item-body", 4);
    i0.ɵɵtemplate(3, PoAccordionComponent_section_1_ng_container_3_Template, 1, 0, "ng-container", 5);
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const poAccordionItem_r1 = ctx.$implicit;
    i0.ɵɵclassProp("po-accordion-item-active", poAccordionItem_r1.expanded);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("p-expanded", poAccordionItem_r1.expanded)("p-label", poAccordionItem_r1.label);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("p-expanded", poAccordionItem_r1.expanded);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngTemplateOutlet", poAccordionItem_r1.templateRef);
} }
/**
 * @docsExtends PoAccordionBaseComponent
 *
 * @example
 *
 * <example name="po-accordion-basic" title="PO Accordion Basic" >
 *  <file name="sample-po-accordion-basic/sample-po-accordion-basic.component.html"> </file>
 *  <file name="sample-po-accordion-basic/sample-po-accordion-basic.component.ts"> </file>
 *  <file name="sample-po-accordion-basic/sample-po-accordion-basic.component.e2e-spec.ts"> </file>
 *  <file name="sample-po-accordion-basic/sample-po-accordion-basic.component.po.ts"> </file>
 * </example>
 *
 * <example name="po-accordion-labs" title="PO Accordion Labs" >
 *  <file name="sample-po-accordion-labs/sample-po-accordion-labs.component.html"> </file>
 *  <file name="sample-po-accordion-labs/sample-po-accordion-labs.component.ts"> </file>
 * </example>
 *
 * <example name="po-accordion-faq" title="PO Accordion - FAQs" >
 *  <file name="sample-po-accordion-faq/sample-po-accordion-faq.component.html"> </file>
 *  <file name="sample-po-accordion-faq/sample-po-accordion-faq.component.ts"> </file>
 * </example>
 */
export class PoAccordionComponent extends PoAccordionBaseComponent {
    constructor(accordionService) {
        super();
        this.accordionService = accordionService;
        this.receiveFromChildAccordionSubscription();
    }
    ngOnDestroy() {
        this.accordionServiceSubscription.unsubscribe();
    }
    headerToggle(event, poAccordionItem) {
        poAccordionItem.expanded = event;
        this.accordionService.sendToParentAccordionItemClicked(poAccordionItem);
    }
    receiveFromChildAccordionSubscription() {
        this.accordionServiceSubscription = this.accordionService
            .receiveFromChildAccordionClicked()
            .subscribe(poAccordionItem => this.toggle(poAccordionItem));
    }
    toggle(poAccordionItem) {
        const isCurrentAccordionCollapsed = !poAccordionItem.expanded;
        if (isCurrentAccordionCollapsed) {
            this.expandedActiveAccordionItem = null;
            return;
        }
        if (this.expandedActiveAccordionItem) {
            this.expandedActiveAccordionItem.collapse();
        }
        this.expandedActiveAccordionItem = poAccordionItem;
    }
}
PoAccordionComponent.ɵfac = function PoAccordionComponent_Factory(t) { return new (t || PoAccordionComponent)(i0.ɵɵdirectiveInject(i1.PoAccordionService)); };
PoAccordionComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PoAccordionComponent, selectors: [["po-accordion"]], contentQueries: function PoAccordionComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {
        i0.ɵɵcontentQuery(dirIndex, PoAccordionItemComponent, 4);
    } if (rf & 2) {
        let _t;
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.poAccordionItems = _t);
    } }, features: [i0.ɵɵProvidersFeature([PoAccordionService]), i0.ɵɵInheritDefinitionFeature], decls: 2, vars: 1, consts: [[1, "po-accordion", "po-container", "po-container-no-padding"], ["class", "po-accordion-item", 3, "po-accordion-item-active", 4, "ngFor", "ngForOf"], [1, "po-accordion-item"], [3, "p-expanded", "p-label", "p-toggle"], [3, "p-expanded"], [4, "ngTemplateOutlet"]], template: function PoAccordionComponent_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵelementStart(0, "div", 0);
        i0.ɵɵtemplate(1, PoAccordionComponent_section_1_Template, 4, 6, "section", 1);
        i0.ɵɵelementEnd();
    } if (rf & 2) {
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngForOf", ctx.poAccordionItems);
    } }, dependencies: [i2.NgForOf, i2.NgTemplateOutlet, i3.PoAccordionItemBodyComponent, i4.PoAccordionItemHeaderComponent], encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(PoAccordionComponent, [{
        type: Component,
        args: [{ selector: 'po-accordion', providers: [PoAccordionService], template: "<div class=\"po-accordion po-container po-container-no-padding\">\n  <section\n    *ngFor=\"let poAccordionItem of poAccordionItems\"\n    class=\"po-accordion-item\"\n    [class.po-accordion-item-active]=\"poAccordionItem.expanded\"\n  >\n    <po-accordion-item-header\n      [p-expanded]=\"poAccordionItem.expanded\"\n      [p-label]=\"poAccordionItem.label\"\n      (p-toggle)=\"headerToggle($event, poAccordionItem)\"\n    >\n    </po-accordion-item-header>\n\n    <po-accordion-item-body [p-expanded]=\"poAccordionItem.expanded\">\n      <ng-container *ngTemplateOutlet=\"poAccordionItem.templateRef\"></ng-container>\n    </po-accordion-item-body>\n  </section>\n</div>\n" }]
    }], function () { return [{ type: i1.PoAccordionService }]; }, { poAccordionItems: [{
            type: ContentChildren,
            args: [PoAccordionItemComponent]
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tYWNjb3JkaW9uLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3VpL3NyYy9saWIvY29tcG9uZW50cy9wby1hY2NvcmRpb24vcG8tYWNjb3JkaW9uLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3VpL3NyYy9saWIvY29tcG9uZW50cy9wby1hY2NvcmRpb24vcG8tYWNjb3JkaW9uLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsZUFBZSxFQUF3QixNQUFNLGVBQWUsQ0FBQztBQUlqRixPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUN6RSxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSxpREFBaUQsQ0FBQztBQUMzRixPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQzs7Ozs7OztJQ1EvRCx3QkFBNkU7Ozs7SUFiakYsa0NBSUMsa0NBQUE7SUFJRyx5UUFBWSxlQUFBLCtDQUFxQyxDQUFBLElBQUM7SUFFcEQsaUJBQTJCO0lBRTNCLGlEQUFnRTtJQUM5RCxpR0FBNkU7SUFDL0UsaUJBQXlCLEVBQUE7OztJQVh6Qix1RUFBMkQ7SUFHekQsZUFBdUM7SUFBdkMsd0RBQXVDLHFDQUFBO0lBTWpCLGVBQXVDO0lBQXZDLHdEQUF1QztJQUM5QyxlQUE2QztJQUE3QyxpRUFBNkM7O0FETmxFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FxQkc7QUFNSCxNQUFNLE9BQU8sb0JBQXFCLFNBQVEsd0JBQXdCO0lBTWhFLFlBQW9CLGdCQUFvQztRQUN0RCxLQUFLLEVBQUUsQ0FBQztRQURVLHFCQUFnQixHQUFoQixnQkFBZ0IsQ0FBb0I7UUFFdEQsSUFBSSxDQUFDLHFDQUFxQyxFQUFFLENBQUM7SUFDL0MsQ0FBQztJQUVELFdBQVc7UUFDVCxJQUFJLENBQUMsNEJBQTRCLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDbEQsQ0FBQztJQUVELFlBQVksQ0FBQyxLQUFjLEVBQUUsZUFBeUM7UUFDcEUsZUFBZSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7UUFFakMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGdDQUFnQyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQzFFLENBQUM7SUFFTyxxQ0FBcUM7UUFDM0MsSUFBSSxDQUFDLDRCQUE0QixHQUFHLElBQUksQ0FBQyxnQkFBZ0I7YUFDdEQsZ0NBQWdDLEVBQUU7YUFDbEMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUFFTyxNQUFNLENBQUMsZUFBeUM7UUFDdEQsTUFBTSwyQkFBMkIsR0FBRyxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUM7UUFFOUQsSUFBSSwyQkFBMkIsRUFBRTtZQUMvQixJQUFJLENBQUMsMkJBQTJCLEdBQUcsSUFBSSxDQUFDO1lBQ3hDLE9BQU87U0FDUjtRQUVELElBQUksSUFBSSxDQUFDLDJCQUEyQixFQUFFO1lBQ3BDLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxRQUFRLEVBQUUsQ0FBQztTQUM3QztRQUVELElBQUksQ0FBQywyQkFBMkIsR0FBRyxlQUFlLENBQUM7SUFDckQsQ0FBQzs7d0ZBeENVLG9CQUFvQjt1RUFBcEIsb0JBQW9CO29DQUNkLHdCQUF3Qjs7OzswQ0FIOUIsQ0FBQyxrQkFBa0IsQ0FBQztRQ2pDakMsOEJBQStEO1FBQzdELDZFQWVVO1FBQ1osaUJBQU07O1FBZjBCLGVBQW1CO1FBQW5CLDhDQUFtQjs7dUZEaUN0QyxvQkFBb0I7Y0FMaEMsU0FBUzsyQkFDRSxjQUFjLGFBRWIsQ0FBQyxrQkFBa0IsQ0FBQztxRUFHWSxnQkFBZ0I7a0JBQTFELGVBQWU7bUJBQUMsd0JBQXdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBDb250ZW50Q2hpbGRyZW4sIFF1ZXJ5TGlzdCwgT25EZXN0cm95IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuXG5pbXBvcnQgeyBQb0FjY29yZGlvbkJhc2VDb21wb25lbnQgfSBmcm9tICcuL3BvLWFjY29yZGlvbi1iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBQb0FjY29yZGlvbkl0ZW1Db21wb25lbnQgfSBmcm9tICcuL3BvLWFjY29yZGlvbi1pdGVtL3BvLWFjY29yZGlvbi1pdGVtLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBQb0FjY29yZGlvblNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL3BvLWFjY29yZGlvbi5zZXJ2aWNlJztcblxuLyoqXG4gKiBAZG9jc0V4dGVuZHMgUG9BY2NvcmRpb25CYXNlQ29tcG9uZW50XG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwicG8tYWNjb3JkaW9uLWJhc2ljXCIgdGl0bGU9XCJQTyBBY2NvcmRpb24gQmFzaWNcIiA+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1hY2NvcmRpb24tYmFzaWMvc2FtcGxlLXBvLWFjY29yZGlvbi1iYXNpYy5jb21wb25lbnQuaHRtbFwiPiA8L2ZpbGU+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1hY2NvcmRpb24tYmFzaWMvc2FtcGxlLXBvLWFjY29yZGlvbi1iYXNpYy5jb21wb25lbnQudHNcIj4gPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tYWNjb3JkaW9uLWJhc2ljL3NhbXBsZS1wby1hY2NvcmRpb24tYmFzaWMuY29tcG9uZW50LmUyZS1zcGVjLnRzXCI+IDwvZmlsZT5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLWFjY29yZGlvbi1iYXNpYy9zYW1wbGUtcG8tYWNjb3JkaW9uLWJhc2ljLmNvbXBvbmVudC5wby50c1wiPiA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogPGV4YW1wbGUgbmFtZT1cInBvLWFjY29yZGlvbi1sYWJzXCIgdGl0bGU9XCJQTyBBY2NvcmRpb24gTGFic1wiID5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLWFjY29yZGlvbi1sYWJzL3NhbXBsZS1wby1hY2NvcmRpb24tbGFicy5jb21wb25lbnQuaHRtbFwiPiA8L2ZpbGU+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1hY2NvcmRpb24tbGFicy9zYW1wbGUtcG8tYWNjb3JkaW9uLWxhYnMuY29tcG9uZW50LnRzXCI+IDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwicG8tYWNjb3JkaW9uLWZhcVwiIHRpdGxlPVwiUE8gQWNjb3JkaW9uIC0gRkFRc1wiID5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLWFjY29yZGlvbi1mYXEvc2FtcGxlLXBvLWFjY29yZGlvbi1mYXEuY29tcG9uZW50Lmh0bWxcIj4gPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tYWNjb3JkaW9uLWZhcS9zYW1wbGUtcG8tYWNjb3JkaW9uLWZhcS5jb21wb25lbnQudHNcIj4gPC9maWxlPlxuICogPC9leGFtcGxlPlxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdwby1hY2NvcmRpb24nLFxuICB0ZW1wbGF0ZVVybDogJ3BvLWFjY29yZGlvbi5jb21wb25lbnQuaHRtbCcsXG4gIHByb3ZpZGVyczogW1BvQWNjb3JkaW9uU2VydmljZV1cbn0pXG5leHBvcnQgY2xhc3MgUG9BY2NvcmRpb25Db21wb25lbnQgZXh0ZW5kcyBQb0FjY29yZGlvbkJhc2VDb21wb25lbnQgaW1wbGVtZW50cyBPbkRlc3Ryb3kge1xuICBAQ29udGVudENoaWxkcmVuKFBvQWNjb3JkaW9uSXRlbUNvbXBvbmVudCkgcG9BY2NvcmRpb25JdGVtczogUXVlcnlMaXN0PFBvQWNjb3JkaW9uSXRlbUNvbXBvbmVudD47XG5cbiAgcHJpdmF0ZSBhY2NvcmRpb25TZXJ2aWNlU3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb247XG4gIHByaXZhdGUgZXhwYW5kZWRBY3RpdmVBY2NvcmRpb25JdGVtOiBQb0FjY29yZGlvbkl0ZW1Db21wb25lbnQ7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBhY2NvcmRpb25TZXJ2aWNlOiBQb0FjY29yZGlvblNlcnZpY2UpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMucmVjZWl2ZUZyb21DaGlsZEFjY29yZGlvblN1YnNjcmlwdGlvbigpO1xuICB9XG5cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgdGhpcy5hY2NvcmRpb25TZXJ2aWNlU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gIH1cblxuICBoZWFkZXJUb2dnbGUoZXZlbnQ6IGJvb2xlYW4sIHBvQWNjb3JkaW9uSXRlbTogUG9BY2NvcmRpb25JdGVtQ29tcG9uZW50KSB7XG4gICAgcG9BY2NvcmRpb25JdGVtLmV4cGFuZGVkID0gZXZlbnQ7XG5cbiAgICB0aGlzLmFjY29yZGlvblNlcnZpY2Uuc2VuZFRvUGFyZW50QWNjb3JkaW9uSXRlbUNsaWNrZWQocG9BY2NvcmRpb25JdGVtKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVjZWl2ZUZyb21DaGlsZEFjY29yZGlvblN1YnNjcmlwdGlvbigpIHtcbiAgICB0aGlzLmFjY29yZGlvblNlcnZpY2VTdWJzY3JpcHRpb24gPSB0aGlzLmFjY29yZGlvblNlcnZpY2VcbiAgICAgIC5yZWNlaXZlRnJvbUNoaWxkQWNjb3JkaW9uQ2xpY2tlZCgpXG4gICAgICAuc3Vic2NyaWJlKHBvQWNjb3JkaW9uSXRlbSA9PiB0aGlzLnRvZ2dsZShwb0FjY29yZGlvbkl0ZW0pKTtcbiAgfVxuXG4gIHByaXZhdGUgdG9nZ2xlKHBvQWNjb3JkaW9uSXRlbTogUG9BY2NvcmRpb25JdGVtQ29tcG9uZW50KSB7XG4gICAgY29uc3QgaXNDdXJyZW50QWNjb3JkaW9uQ29sbGFwc2VkID0gIXBvQWNjb3JkaW9uSXRlbS5leHBhbmRlZDtcblxuICAgIGlmIChpc0N1cnJlbnRBY2NvcmRpb25Db2xsYXBzZWQpIHtcbiAgICAgIHRoaXMuZXhwYW5kZWRBY3RpdmVBY2NvcmRpb25JdGVtID0gbnVsbDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5leHBhbmRlZEFjdGl2ZUFjY29yZGlvbkl0ZW0pIHtcbiAgICAgIHRoaXMuZXhwYW5kZWRBY3RpdmVBY2NvcmRpb25JdGVtLmNvbGxhcHNlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5leHBhbmRlZEFjdGl2ZUFjY29yZGlvbkl0ZW0gPSBwb0FjY29yZGlvbkl0ZW07XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJwby1hY2NvcmRpb24gcG8tY29udGFpbmVyIHBvLWNvbnRhaW5lci1uby1wYWRkaW5nXCI+XG4gIDxzZWN0aW9uXG4gICAgKm5nRm9yPVwibGV0IHBvQWNjb3JkaW9uSXRlbSBvZiBwb0FjY29yZGlvbkl0ZW1zXCJcbiAgICBjbGFzcz1cInBvLWFjY29yZGlvbi1pdGVtXCJcbiAgICBbY2xhc3MucG8tYWNjb3JkaW9uLWl0ZW0tYWN0aXZlXT1cInBvQWNjb3JkaW9uSXRlbS5leHBhbmRlZFwiXG4gID5cbiAgICA8cG8tYWNjb3JkaW9uLWl0ZW0taGVhZGVyXG4gICAgICBbcC1leHBhbmRlZF09XCJwb0FjY29yZGlvbkl0ZW0uZXhwYW5kZWRcIlxuICAgICAgW3AtbGFiZWxdPVwicG9BY2NvcmRpb25JdGVtLmxhYmVsXCJcbiAgICAgIChwLXRvZ2dsZSk9XCJoZWFkZXJUb2dnbGUoJGV2ZW50LCBwb0FjY29yZGlvbkl0ZW0pXCJcbiAgICA+XG4gICAgPC9wby1hY2NvcmRpb24taXRlbS1oZWFkZXI+XG5cbiAgICA8cG8tYWNjb3JkaW9uLWl0ZW0tYm9keSBbcC1leHBhbmRlZF09XCJwb0FjY29yZGlvbkl0ZW0uZXhwYW5kZWRcIj5cbiAgICAgIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJwb0FjY29yZGlvbkl0ZW0udGVtcGxhdGVSZWZcIj48L25nLWNvbnRhaW5lcj5cbiAgICA8L3BvLWFjY29yZGlvbi1pdGVtLWJvZHk+XG4gIDwvc2VjdGlvbj5cbjwvZGl2PlxuIl19