import { EventEmitter, Input, Output, Directive } from '@angular/core';
import { convertToBoolean } from '../../utils/util';
import { PoColorPaletteEnum } from '../../enums/po-color-palette.enum';
import { PoTagOrientation } from './enums/po-tag-orientation.enum';
import { PoTagType } from './enums/po-tag-type.enum';
import * as i0 from "@angular/core";
const poTagColors = Object.values(PoColorPaletteEnum);
const poTagOrientationDefault = PoTagOrientation.Vertical;
/**
 * @description
 *
 * Este componente permite exibir um valor em forma de um marcador colorido, sendo possível definir uma legenda e realizar customizações
 * na cor, iconografia e tipo.
 *
 * Além disso, é possível definir uma ação que será executada tanto ao *click* quanto através das teclas *enter/space* enquanto navega
 * utilizando a tecla *tab*.
 *
 * Seu uso é recomendado para informações que necessitem de destaque em forma de marcação.
 */
export class PoTagBaseComponent {
    constructor() {
        /**
         * @deprecated 16.x.x
         *
         * @optional
         *
         * @description
         *
         * **Deprecated 16.x.x**.
         *
         * > Por regras de acessibilidade a tag não terá mais evento de click. Indicamos o uso do `Po-button` ou `Po-link`
         * caso deseje esse comportamento.
         *
         * Ação que será executada ao clicar sobre o `po-tag` e que receberá como parâmetro um objeto contendo o seu valor e tipo.
         */
        this.click = new EventEmitter();
        this.poTagOrientation = PoTagOrientation;
        this._orientation = poTagOrientationDefault;
    }
    /**
     * @optional
     *
     * @description
     *
     * Determina a cor da tag. As maneiras de customizar as cores são:
     * - Hexadeximal, por exemplo `#c64840`;
     * - RGB, como `rgb(0, 0, 165)`;
     * - O nome da cor, por exemplo `blue`;
     * - Usando uma das cores do tema do PO:
     * Valores válidos:
     *  - <span class="dot po-color-01"></span> `color-01`
     *  - <span class="dot po-color-02"></span> `color-02`
     *  - <span class="dot po-color-03"></span> `color-03`
     *  - <span class="dot po-color-04"></span> `color-04`
     *  - <span class="dot po-color-05"></span> `color-05`
     *  - <span class="dot po-color-06"></span> `color-06`
     *  - <span class="dot po-color-07"></span> `color-07`
     *  - <span class="dot po-color-08"></span> `color-08`
     *  - <span class="dot po-color-09"></span> `color-09`
     *  - <span class="dot po-color-10"></span> `color-10`
     *  - <span class="dot po-color-11"></span> `color-11`
     *  - <span class="dot po-color-12"></span> `color-12`
     *
     * - Para uma melhor acessibilidade no uso do componente é recomendável utilizar cores com um melhor contraste em relação ao background.
     *
     * > **Atenção:** A propriedade `p-type` sobrepõe esta definição.
     */
    set color(value) {
        this._color = poTagColors.includes(value) ? value : undefined;
        if (this._color === undefined) {
            CSS.supports('color', value) ? (this.customColor = value) : (this.customColor = undefined);
        }
    }
    get color() {
        return this._color;
    }
    /**
     * @optional
     *
     * @description
     *
     * Determina a cor do texto da tag. As maneiras de customizar as cores são:
     * - Hexadeximal, por exemplo `#c64840`;
     * - RGB, como `rgb(0, 0, 165)`;
     * - O nome da cor, por exemplo `blue`;
     * - Usando uma das cores do tema do PO:
     * Valores válidos:
     *  - <span class="dot po-color-01"></span> `color-01`
     *  - <span class="dot po-color-02"></span> `color-02`
     *  - <span class="dot po-color-03"></span> `color-03`
     *  - <span class="dot po-color-04"></span> `color-04`
     *  - <span class="dot po-color-05"></span> `color-05`
     *  - <span class="dot po-color-06"></span> `color-06`
     *  - <span class="dot po-color-07"></span> `color-07`
     *  - <span class="dot po-color-08"></span> `color-08`
     *  - <span class="dot po-color-09"></span> `color-09`
     *  - <span class="dot po-color-10"></span> `color-10`
     *  - <span class="dot po-color-11"></span> `color-11`
     *  - <span class="dot po-color-12"></span> `color-12`
     *
     * - Para uma melhor acessibilidade no uso do componente é recomendável utilizar cores com um melhor contraste em relação ao background.
     *
     * > **Atenção:** A propriedade `p-type` sobrepõe esta definição.
     */
    set textColor(value) {
        this._textColor = poTagColors.includes(value) ? value : undefined;
        if (this._textColor === undefined) {
            CSS.supports('color', value) ? (this.customTextColor = value) : (this.customTextColor = undefined);
        }
    }
    get textColor() {
        return this._textColor;
    }
    /**
     * @optional
     *
     * @description
     *
     * Define ou ativa um ícone que será exibido ao lado do valor da *tag*.
     *
     * Quando `p-type` estiver definida, basta informar um valor igual a `true` para que o ícone seja exibido conforme descrições abaixo:
     * - <span class="po-icon po-icon-ok"></span> - `success`
     * - <span class="po-icon po-icon-warning"></span> - `warning`
     * - <span class="po-icon po-icon-close"></span> - `danger`
     * - <span class="po-icon po-icon-info"></span> - `info`
     *
     * Também É possível usar qualquer um dos ícones da [Biblioteca de ícones](/guides/icons). conforme exemplo abaixo:
     * ```
     * <po-tag p-icon="po-icon-user" p-value="PO Tag"></po-tag>
     * ```
     * como também utilizar outras fontes de ícones, por exemplo a biblioteca *Font Awesome*, da seguinte forma:
     * ```
     * <po-tag p-icon="fa fa-podcast" p-value="PO Tag"></po-button>
     * ```
     * Outra opção seria a customização do ícone através do `TemplateRef`, conforme exemplo abaixo:
     * ```
     * <po-tag [p-icon]="template" p-value="Tag template ionic"></po-button>
     *
     * <ng-template #template>
     *  <ion-icon style="font-size: inherit" name="heart"></ion-icon>
     * </ng-template>
     * ```
     * > Para o ícone enquadrar corretamente, deve-se utilizar `font-size: inherit` caso o ícone utilizado não aplique-o.
     *
     * @default `false`
     */
    set icon(value) {
        if (this.type) {
            this._icon = convertToBoolean(value);
        }
        else {
            this._icon = value;
        }
    }
    get icon() {
        return this._icon;
    }
    /**
     * @deprecated 16.x.x
     *
     * @optional
     *
     * @description
     *
     * > Por regras de acessibilidade e usabilidade a tag não terá a inversão de cores no componente.
     *
     * Ativa a inversão de cores configuradas no componente, possibilitando uma visualização de status ativo e inativo.
     *
     * > A cor do texto, do ícone e da borda ficam com a cor utilizada na propriedade `p-color` ou a cor correspondente ao `p-type`,
     * e a cor do fundo fica branca.
     *
     * @default `false`
     */
    set inverse(value) {
        this._inverse = convertToBoolean(value);
    }
    get inverse() {
        return this._inverse;
    }
    /**
     * @optional
     *
     * @description
     *
     * Define o *layout* de exibição.
     *
     * @default `vertical`
     */
    set orientation(value) {
        this._orientation = Object.values(PoTagOrientation).includes(value) ? value : poTagOrientationDefault;
    }
    get orientation() {
        return this._orientation;
    }
    /**
     * @optional
     *
     * @description
     *
     * Define o tipo da *tag*.
     *
     * Valores válidos:
     *  - `success`: cor verde utilizada para simbolizar sucesso ou êxito.
     *  - `warning`: cor amarela que representa aviso ou advertência.
     *  - `danger`: cor vermelha para erro ou aviso crítico.
     *  - `info`: cor cinza escuro que caracteriza conteúdo informativo.
     *
     * > Quando esta propriedade for definida, irá sobrepor a definição de `p-color` e `p-icon` somente será exibido caso seja `true`.
     *
     * @default `info`
     */
    set type(value) {
        this._type = Object.values(PoTagType).includes(value) ? value : undefined;
    }
    get type() {
        return this._type;
    }
}
PoTagBaseComponent.ɵfac = function PoTagBaseComponent_Factory(t) { return new (t || PoTagBaseComponent)(); };
PoTagBaseComponent.ɵdir = /*@__PURE__*/ i0.ɵɵdefineDirective({ type: PoTagBaseComponent, inputs: { label: ["p-label", "label"], value: ["p-value", "value"], color: ["p-color", "color"], textColor: ["p-text-color", "textColor"], icon: ["p-icon", "icon"], inverse: ["p-inverse", "inverse"], orientation: ["p-orientation", "orientation"], type: ["p-type", "type"] }, outputs: { click: "p-click" } });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(PoTagBaseComponent, [{
        type: Directive
    }], null, { label: [{
            type: Input,
            args: ['p-label']
        }], value: [{
            type: Input,
            args: ['p-value']
        }], click: [{
            type: Output,
            args: ['p-click']
        }], color: [{
            type: Input,
            args: ['p-color']
        }], textColor: [{
            type: Input,
            args: ['p-text-color']
        }], icon: [{
            type: Input,
            args: ['p-icon']
        }], inverse: [{
            type: Input,
            args: ['p-inverse']
        }], orientation: [{
            type: Input,
            args: ['p-orientation']
        }], type: [{
            type: Input,
            args: ['p-type']
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tdGFnLWJhc2UuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdWkvc3JjL2xpYi9jb21wb25lbnRzL3BvLXRhZy9wby10YWctYmFzZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBZSxNQUFNLGVBQWUsQ0FBQztBQUVwRixPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNwRCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxtQ0FBbUMsQ0FBQztBQUd2RSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUNuRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sMEJBQTBCLENBQUM7O0FBRXJELE1BQU0sV0FBVyxHQUFTLE1BQU8sQ0FBQyxNQUFNLENBQUMsa0JBQWtCLENBQUMsQ0FBQztBQUM3RCxNQUFNLHVCQUF1QixHQUFHLGdCQUFnQixDQUFDLFFBQVEsQ0FBQztBQUUxRDs7Ozs7Ozs7OztHQVVHO0FBRUgsTUFBTSxPQUFPLGtCQUFrQjtJQUQvQjtRQWNFOzs7Ozs7Ozs7Ozs7O1dBYUc7UUFDZ0IsVUFBSyxHQUFzQixJQUFJLFlBQVksRUFBYSxDQUFDO1FBRTVELHFCQUFnQixHQUFHLGdCQUFnQixDQUFDO1FBTzVDLGlCQUFZLEdBQXNCLHVCQUF1QixDQUFDO0tBK0xuRTtJQTVMQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O09BMkJHO0lBQ0gsSUFBc0IsS0FBSyxDQUFDLEtBQWE7UUFDdkMsSUFBSSxDQUFDLE1BQU0sR0FBRyxXQUFXLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztRQUM5RCxJQUFJLElBQUksQ0FBQyxNQUFNLEtB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QUs7bUJBQUMsY0FBYztZQTRDQSxJQUFJO2tCQUF4QixLQUFLO21CQUFDLFFBQVE7WUE0QlMsT0FBTztrQkFBOUIsS0FBSzttQkFBQyxXQUFXO1lBaUJVLFdBQVc7a0JBQXRDLEtBQUs7bUJBQUMsZUFBZTtZQXlCRCxJQUFJO2tCQUF4QixLQUFLO21CQUFDLFFBQVEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQsIERpcmVjdGl2ZSwgVGVtcGxhdGVSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgY29udmVydFRvQm9vbGVhbiB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWwnO1xuaW1wb3J0IHsgUG9Db2xvclBhbGV0dGVFbnVtIH0gZnJvbSAnLi4vLi4vZW51bXMvcG8tY29sb3ItcGFsZXR0ZS5lbnVtJztcblxuaW1wb3J0IHsgUG9UYWdJdGVtIH0gZnJvbSAnLi9pbnRlcmZhY2VzL3BvLXRhZy1pdGVtLmludGVyZmFjZSc7XG5pbXBvcnQgeyBQb1RhZ09yaWVudGF0aW9uIH0gZnJvbSAnLi9lbnVtcy9wby10YWctb3JpZW50YXRpb24uZW51bSc7XG5pbXBvcnQgeyBQb1RhZ1R5cGUgfSBmcm9tICcuL2VudW1zL3BvLXRhZy10eXBlLmVudW0nO1xuXG5jb25zdCBwb1RhZ0NvbG9ycyA9ICg8YW55Pk9iamVjdCkudmFsdWVzKFBvQ29sb3JQYWxldHRlRW51bSk7XG5jb25zdCBwb1RhZ09yaWVudGF0aW9uRGVmYXVsdCA9IFBvVGFnT3JpZW50YXRpb24uVmVydGljYWw7XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogRXN0ZSBjb21wb25lbnRlIHBlcm1pdGUgZXhpYmlyIHVtIHZhbG9yIGVtIGZvcm1hIGRlIHVtIG1hcmNhZG9yIGNvbG9yaWRvLCBzZW5kbyBwb3Nzw612ZWwgZGVmaW5pciB1bWEgbGVnZW5kYSBlIHJlYWxpemFyIGN1c3RvbWl6YcOnw7Vlc1xuICogbmEgY29yLCBpY29ub2dyYWZpYSBlIHRpcG8uXG4gKlxuICogQWzDqW0gZGlzc28sIMOpIHBvc3PDrXZlbCBkZWZpbmlyIHVtYSBhw6fDo28gcXVlIHNlcsOhIGV4ZWN1dGFkYSB0YW50byBhbyAqY2xpY2sqIHF1YW50byBhdHJhdsOpcyBkYXMgdGVjbGFzICplbnRlci9zcGFjZSogZW5xdWFudG8gbmF2ZWdhXG4gKiB1dGlsaXphbmRvIGEgdGVjbGEgKnRhYiouXG4gKlxuICogU2V1IHVzbyDDqSByZWNvbWVuZGFkbyBwYXJhIGluZm9ybWHDp8O1ZXMgcXVlIG5lY2Vzc2l0ZW0gZGUgZGVzdGFxdWUgZW0gZm9ybWEgZGUgbWFyY2HDp8Ojby5cbiAqL1xuQERpcmVjdGl2ZSgpXG5leHBvcnQgY2xhc3MgUG9UYWdCYXNlQ29tcG9uZW50IHtcbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRGVmaW5lIHVtYSBsZWdlbmRhIHF1ZSBzZXLDoSBleGliaWRhIGFjaW1hIG91IGFvIGxhZG8gZGEgKnRhZyosIGRlIGFjb3JkbyBjb20gYSBgcC1vcmllbnRhdGlvbmAuXG4gICAqL1xuICBASW5wdXQoJ3AtbGFiZWwnKSBsYWJlbD86IHN0cmluZztcblxuICAvKiogVGV4dG8gZGEgdGFnLiAqL1xuICBASW5wdXQoJ3AtdmFsdWUnKSB2YWx1ZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCAxNi54LnhcbiAgICpcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiAqKkRlcHJlY2F0ZWQgMTYueC54KiouXG4gICAqXG4gICAqID4gUG9yIHJlZ3JhcyBkZSBhY2Vzc2liaWxpZGFkZSBhIHRhZyBuw6NvIHRlcsOhIG1haXMgZXZlbnRvIGRlIGNsaWNrLiBJbmRpY2Ftb3MgbyB1c28gZG8gYFBvLWJ1dHRvbmAgb3UgYFBvLWxpbmtgXG4gICAqIGNhc28gZGVzZWplIGVzc2UgY29tcG9ydGFtZW50by5cbiAgICpcbiAgICogQcOnw6NvIHF1ZSBzZXLDoSBleGVjdXRhZGEgYW8gY2xpY2FyIHNvYnJlIG8gYHBvLXRhZ2AgZSBxdWUgcmVjZWJlcsOhIGNvbW8gcGFyw6JtZXRybyB1bSBvYmpldG8gY29udGVuZG8gbyBzZXUgdmFsb3IgZSB0aXBvLlxuICAgKi9cbiAgQE91dHB1dCgncC1jbGljaycpIGNsaWNrOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXI8UG9UYWdJdGVtPigpO1xuXG4gIHB1YmxpYyByZWFkb25seSBwb1RhZ09yaWVudGF0aW9uID0gUG9UYWdPcmllbnRhdGlvbjtcbiAgcHVibGljIGN1c3RvbUNvbG9yO1xuICBwdWJsaWMgY3VzdG9tVGV4dENvbG9yO1xuICBwcml2YXRlIF9jb2xvcj86IHN0cmluZztcbiAgcHJpdmF0ZSBfdGV4dENvbG9yPzogc3RyaW5nO1xuICBwcml2YXRlIF9pY29uPzogYm9vbGVhbiB8IHN0cmluZyB8IFRlbXBsYXRlUmVmPHZvaWQ+O1xuICBwcml2YXRlIF9pbnZlcnNlPzogYm9vbGVhbjtcbiAgcHJpdmF0ZSBfb3JpZW50YXRpb24/OiBQb1RhZ09yaWVudGF0aW9uID0gcG9UYWdPcmllbnRhdGlvbkRlZmF1bHQ7XG4gIHByaXZhdGUgX3R5cGU/OiBQb1RhZ1R5cGU7XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRGV0ZXJtaW5hIGEgY29yIGRhIHRhZy4gQXMgbWFuZWlyYXMgZGUgY3VzdG9taXphciBhcyBjb3JlcyBzw6NvOlxuICAgKiAtIEhleGFkZXhpbWFsLCBwb3IgZXhlbXBsbyBgI2M2NDg0MGA7XG4gICAqIC0gUkdCLCBjb21vIGByZ2IoMCwgMCwgMTY1KWA7XG4gICAqIC0gTyBub21lIGRhIGNvciwgcG9yIGV4ZW1wbG8gYGJsdWVgO1xuICAgKiAtIFVzYW5kbyB1bWEgZGFzIGNvcmVzIGRvIHRlbWEgZG8gUE86XG4gICAqIFZhbG9yZXMgdsOhbGlkb3M6XG4gICAqICAtIDxzcGFuIGNsYXNzPVwiZG90IHBvLWNvbG9yLTAxXCI+PC9zcGFuPiBgY29sb3ItMDFgXG4gICAqICAtIDxzcGFuIGNsYXNzPVwiZG90IHBvLWNvbG9yLTAyXCI+PC9zcGFuPiBgY29sb3ItMDJgXG4gICAqICAtIDxzcGFuIGNsYXNzPVwiZG90IHBvLWNvbG9yLTAzXCI+PC9zcGFuPiBgY29sb3ItMDNgXG4gICAqICAtIDxzcGFuIGNsYXNzPVwiZG90IHBvLWNvbG9yLTA0XCI+PC9zcGFuPiBgY29sb3ItMDRgXG4gICAqICAtIDxzcGFuIGNsYXNzPVwiZG90IHBvLWNvbG9yLTA1XCI+PC9zcGFuPiBgY29sb3ItMDVgXG4gICAqICAtIDxzcGFuIGNsYXNzPVwiZG90IHBvLWNvbG9yLTA2XCI+PC9zcGFuPiBgY29sb3ItMDZgXG4gICAqICAtIDxzcGFuIGNsYXNzPVwiZG90IHBvLWNvbG9yLTA3XCI+PC9zcGFuPiBgY29sb3ItMDdgXG4gICAqICAtIDxzcGFuIGNsYXNzPVwiZG90IHBvLWNvbG9yLTA4XCI+PC9zcGFuPiBgY29sb3ItMDhgXG4gICAqICAtIDxzcGFuIGNsYXNzPVwiZG90IHBvLWNvbG9yLTA5XCI+PC9zcGFuPiBgY29sb3ItMDlgXG4gICAqICAtIDxzcGFuIGNsYXNzPVwiZG90IHBvLWNvbG9yLTEwXCI+PC9zcGFuPiBgY29sb3ItMTBgXG4gICAqICAtIDxzcGFuIGNsYXNzPVwiZG90IHBvLWNvbG9yLTExXCI+PC9zcGFuPiBgY29sb3ItMTFgXG4gICAqICAtIDxzcGFuIGNsYXNzPVwiZG90IHBvLWNvbG9yLTEyXCI+PC9zcGFuPiBgY29sb3ItMTJgXG4gICAqXG4gICAqIC0gUGFyYSB1bWEgbWVsaG9yIGFjZXNzaWJpbGlkYWRlIG5vIHVzbyBkbyBjb21wb25lbnRlIMOpIHJlY29tZW5kw6F2ZWwgdXRpbGl6YXIgY29yZXMgY29tIHVtIG1lbGhvciBjb250cmFzdGUgZW0gcmVsYcOnw6NvIGFvIGJhY2tncm91bmQuXG4gICAqXG4gICAqID4gKipBdGVuw6fDo286KiogQSBwcm9wcmllZGFkZSBgcC10eXBlYCBzb2JyZXDDtWUgZXN0YSBkZWZpbmnDp8Ojby5cbiAgICovXG4gIEBJbnB1dCgncC1jb2xvcicpIHNldCBjb2xvcih2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5fY29sb3IgPSBwb1RhZ0NvbG9ycy5pbmNsdWRlcyh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbiAgICBpZiAodGhpcy5fY29sb3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgQ1NTLnN1cHBvcnRzKCdjb2xvcicsIHZhbHVlKSA/ICh0aGlzLmN1c3RvbUNvbG9yID0gdmFsdWUpIDogKHRoaXMuY3VzdG9tQ29sb3IgPSB1bmRlZmluZWQpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBjb2xvcigpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9jb2xvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIERldGVybWluYSBhIGNvciBkbyB0ZXh0byBkYSB0YWcuIEFzIG1hbmVpcmFzIGRlIGN1c3RvbWl6YXIgYXMgY29yZXMgc8OjbzpcbiAgICogLSBIZXhhZGV4aW1hbCwgcG9yIGV4ZW1wbG8gYCNjNjQ4NDBgO1xuICAgKiAtIFJHQiwgY29tbyBgcmdiKDAsIDAsIDE2NSlgO1xuICAgKiAtIE8gbm9tZSBkYSBjb3IsIHBvciBleGVtcGxvIGBibHVlYDtcbiAgICogLSBVc2FuZG8gdW1hIGRhcyBjb3JlcyBkbyB0ZW1hIGRvIFBPOlxuICAgKiBWYWxvcmVzIHbDoWxpZG9zOlxuICAgKiAgLSA8c3BhbiBjbGFzcz1cImRvdCBwby1jb2xvci0wMVwiPjwvc3Bhbj4gYGNvbG9yLTAxYFxuICAgKiAgLSA8c3BhbiBjbGFzcz1cImRvdCBwby1jb2xvci0wMlwiPjwvc3Bhbj4gYGNvbG9yLTAyYFxuICAgKiAgLSA8c3BhbiBjbGFzcz1cImRvdCBwby1jb2xvci0wM1wiPjwvc3Bhbj4gYGNvbG9yLTAzYFxuICAgKiAgLSA8c3BhbiBjbGFzcz1cImRvdCBwby1jb2xvci0wNFwiPjwvc3Bhbj4gYGNvbG9yLTA0YFxuICAgKiAgLSA8c3BhbiBjbGFzcz1cImRvdCBwby1jb2xvci0wNVwiPjwvc3Bhbj4gYGNvbG9yLTA1YFxuICAgKiAgLSA8c3BhbiBjbGFzcz1cImRvdCBwby1jb2xvci0wNlwiPjwvc3Bhbj4gYGNvbG9yLTA2YFxuICAgKiAgLSA8c3BhbiBjbGFzcz1cImRvdCBwby1jb2xvci0wN1wiPjwvc3Bhbj4gYGNvbG9yLTA3YFxuICAgKiAgLSA8c3BhbiBjbGFzcz1cImRvdCBwby1jb2xvci0wOFwiPjwvc3Bhbj4gYGNvbG9yLTA4YFxuICAgKiAgLSA8c3BhbiBjbGFzcz1cImRvdCBwby1jb2xvci0wOVwiPjwvc3Bhbj4gYGNvbG9yLTA5YFxuICAgKiAgLSA8c3BhbiBjbGFzcz1cImRvdCBwby1jb2xvci0xMFwiPjwvc3Bhbj4gYGNvbG9yLTEwYFxuICAgKiAgLSA8c3BhbiBjbGFzcz1cImRvdCBwby1jb2xvci0xMVwiPjwvc3Bhbj4gYGNvbG9yLTExYFxuICAgKiAgLSA8c3BhbiBjbGFzcz1cImRvdCBwby1jb2xvci0xMlwiPjwvc3Bhbj4gYGNvbG9yLTEyYFxuICAgKlxuICAgKiAtIFBhcmEgdW1hIG1lbGhvciBhY2Vzc2liaWxpZGFkZSBubyB1c28gZG8gY29tcG9uZW50ZSDDqSByZWNvbWVuZMOhdmVsIHV0aWxpemFyIGNvcmVzIGNvbSB1bSBtZWxob3IgY29udHJhc3RlIGVtIHJlbGHDp8OjbyBhbyBiYWNrZ3JvdW5kLlxuICAgKlxuICAgKiA+ICoqQXRlbsOnw6NvOioqIEEgcHJvcHJpZWRhZGUgYHAtdHlwZWAgc29icmVww7VlIGVzdGEgZGVmaW5pw6fDo28uXG4gICAqL1xuICBASW5wdXQoJ3AtdGV4dC1jb2xvcicpIHNldCB0ZXh0Q29sb3IodmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuX3RleHRDb2xvciA9IHBvVGFnQ29sb3JzLmluY2x1ZGVzKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xuICAgIGlmICh0aGlzLl90ZXh0Q29sb3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgQ1NTLnN1cHBvcnRzKCdjb2xvcicsIHZhbHVlKSA/ICh0aGlzLmN1c3RvbVRleHRDb2xvciA9IHZhbHVlKSA6ICh0aGlzLmN1c3RvbVRleHRDb2xvciA9IHVuZGVmaW5lZCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IHRleHRDb2xvcigpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl90ZXh0Q29sb3I7XG4gIH1cblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBEZWZpbmUgb3UgYXRpdmEgdW0gw61jb25lIHF1ZSBzZXLDoSBleGliaWRvIGFvIGxhZG8gZG8gdmFsb3IgZGEgKnRhZyouXG4gICAqXG4gICAqIFF1YW5kbyBgcC10eXBlYCBlc3RpdmVyIGRlZmluaWRhLCBiYXN0YSBpbmZvcm1hciB1bSB2YWxvciBpZ3VhbCBhIGB0cnVlYCBwYXJhIHF1ZSBvIMOtY29uZSBzZWphIGV4aWJpZG8gY29uZm9ybWUgZGVzY3Jpw6fDtWVzIGFiYWl4bzpcbiAgICogLSA8c3BhbiBjbGFzcz1cInBvLWljb24gcG8taWNvbi1va1wiPjwvc3Bhbj4gLSBgc3VjY2Vzc2BcbiAgICogLSA8c3BhbiBjbGFzcz1cInBvLWljb24gcG8taWNvbi13YXJuaW5nXCI+PC9zcGFuPiAtIGB3YXJuaW5nYFxuICAgKiAtIDxzcGFuIGNsYXNzPVwicG8taWNvbiBwby1pY29uLWNsb3NlXCI+PC9zcGFuPiAtIGBkYW5nZXJgXG4gICAqIC0gPHNwYW4gY2xhc3M9XCJwby1pY29uIHBvLWljb24taW5mb1wiPjwvc3Bhbj4gLSBgaW5mb2BcbiAgICpcbiAgICogVGFtYsOpbSDDiSBwb3Nzw612ZWwgdXNhciBxdWFscXVlciB1bSBkb3Mgw61jb25lcyBkYSBbQmlibGlvdGVjYSBkZSDDrWNvbmVzXSgvZ3VpZGVzL2ljb25zKS4gY29uZm9ybWUgZXhlbXBsbyBhYmFpeG86XG4gICAqIGBgYFxuICAgKiA8cG8tdGFnIHAtaWNvbj1cInBvLWljb24tdXNlclwiIHAtdmFsdWU9XCJQTyBUYWdcIj48L3BvLXRhZz5cbiAgICogYGBgXG4gICAqIGNvbW8gdGFtYsOpbSB1dGlsaXphciBvdXRyYXMgZm9udGVzIGRlIMOtY29uZXMsIHBvciBleGVtcGxvIGEgYmlibGlvdGVjYSAqRm9udCBBd2Vzb21lKiwgZGEgc2VndWludGUgZm9ybWE6XG4gICAqIGBgYFxuICAgKiA8cG8tdGFnIHAtaWNvbj1cImZhIGZhLXBvZGNhc3RcIiBwLXZhbHVlPVwiUE8gVGFnXCI+PC9wby1idXR0b24+XG4gICAqIGBgYFxuICAgKiBPdXRyYSBvcMOnw6NvIHNlcmlhIGEgY3VzdG9taXphw6fDo28gZG8gw61jb25lIGF0cmF2w6lzIGRvIGBUZW1wbGF0ZVJlZmAsIGNvbmZvcm1lIGV4ZW1wbG8gYWJhaXhvOlxuICAgKiBgYGBcbiAgICogPHBvLXRhZyBbcC1pY29uXT1cInRlbXBsYXRlXCIgcC12YWx1ZT1cIlRhZyB0ZW1wbGF0ZSBpb25pY1wiPjwvcG8tYnV0dG9uPlxuICAgKlxuICAgKiA8bmctdGVtcGxhdGUgI3RlbXBsYXRlPlxuICAgKiAgPGlvbi1pY29uIHN0eWxlPVwiZm9udC1zaXplOiBpbmhlcml0XCIgbmFtZT1cImhlYXJ0XCI+PC9pb24taWNvbj5cbiAgICogPC9uZy10ZW1wbGF0ZT5cbiAgICogYGBgXG4gICAqID4gUGFyYSBvIMOtY29uZSBlbnF1YWRyYXIgY29ycmV0YW1lbnRlLCBkZXZlLXNlIHV0aWxpemFyIGBmb250LXNpemU6IGluaGVyaXRgIGNhc28gbyDDrWNvbmUgdXRpbGl6YWRvIG7Do28gYXBsaXF1ZS1vLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgZmFsc2VgXG4gICAqL1xuICBASW5wdXQoJ3AtaWNvbicpIHNldCBpY29uKHZhbHVlOiBib29sZWFuIHwgc3RyaW5nIHwgVGVtcGxhdGVSZWY8dm9pZD4pIHtcbiAgICBpZiAodGhpcy50eXBlKSB7XG4gICAgICB0aGlzLl9pY29uID0gY29udmVydFRvQm9vbGVhbih2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2ljb24gPSB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICBnZXQgaWNvbigpIHtcbiAgICByZXR1cm4gdGhpcy5faWNvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCAxNi54LnhcbiAgICpcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiA+IFBvciByZWdyYXMgZGUgYWNlc3NpYmlsaWRhZGUgZSB1c2FiaWxpZGFkZSBhIHRhZyBuw6NvIHRlcsOhIGEgaW52ZXJzw6NvIGRlIGNvcmVzIG5vIGNvbXBvbmVudGUuXG4gICAqXG4gICAqIEF0aXZhIGEgaW52ZXJzw6NvIGRlIGNvcmVzIGNvbmZpZ3VyYWRhcyBubyBjb21wb25lbnRlLCBwb3NzaWJpbGl0YW5kbyB1bWEgdmlzdWFsaXphw6fDo28gZGUgc3RhdHVzIGF0aXZvIGUgaW5hdGl2by5cbiAgICpcbiAgICogPiBBIGNvciBkbyB0ZXh0bywgZG8gw61jb25lIGUgZGEgYm9yZGEgZmljYW0gY29tIGEgY29yIHV0aWxpemFkYSBuYSBwcm9wcmllZGFkZSBgcC1jb2xvcmAgb3UgYSBjb3IgY29ycmVzcG9uZGVudGUgYW8gYHAtdHlwZWAsXG4gICAqIGUgYSBjb3IgZG8gZnVuZG8gZmljYSBicmFuY2EuXG4gICAqXG4gICAqIEBkZWZhdWx0IGBmYWxzZWBcbiAgICovXG4gIEBJbnB1dCgncC1pbnZlcnNlJykgc2V0IGludmVyc2UodmFsdWU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9pbnZlcnNlID0gY29udmVydFRvQm9vbGVhbih2YWx1ZSk7XG4gIH1cblxuICBnZXQgaW52ZXJzZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5faW52ZXJzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIERlZmluZSBvICpsYXlvdXQqIGRlIGV4aWJpw6fDo28uXG4gICAqXG4gICAqIEBkZWZhdWx0IGB2ZXJ0aWNhbGBcbiAgICovXG4gIEBJbnB1dCgncC1vcmllbnRhdGlvbicpIHNldCBvcmllbnRhdGlvbih2YWx1ZTogUG9UYWdPcmllbnRhdGlvbikge1xuICAgIHRoaXMuX29yaWVudGF0aW9uID0gKDxhbnk+T2JqZWN0KS52YWx1ZXMoUG9UYWdPcmllbnRhdGlvbikuaW5jbHVkZXModmFsdWUpID8gdmFsdWUgOiBwb1RhZ09yaWVudGF0aW9uRGVmYXVsdDtcbiAgfVxuXG4gIGdldCBvcmllbnRhdGlvbigpOiBQb1RhZ09yaWVudGF0aW9uIHtcbiAgICByZXR1cm4gdGhpcy5fb3JpZW50YXRpb247XG4gIH1cblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBEZWZpbmUgbyB0aXBvIGRhICp0YWcqLlxuICAgKlxuICAgKiBWYWxvcmVzIHbDoWxpZG9zOlxuICAgKiAgLSBgc3VjY2Vzc2A6IGNvciB2ZXJkZSB1dGlsaXphZGEgcGFyYSBzaW1ib2xpemFyIHN1Y2Vzc28gb3Ugw6p4aXRvLlxuICAgKiAgLSBgd2FybmluZ2A6IGNvciBhbWFyZWxhIHF1ZSByZXByZXNlbnRhIGF2aXNvIG91IGFkdmVydMOqbmNpYS5cbiAgICogIC0gYGRhbmdlcmA6IGNvciB2ZXJtZWxoYSBwYXJhIGVycm8gb3UgYXZpc28gY3LDrXRpY28uXG4gICAqICAtIGBpbmZvYDogY29yIGNpbnphIGVzY3VybyBxdWUgY2FyYWN0ZXJpemEgY29udGXDumRvIGluZm9ybWF0aXZvLlxuICAgKlxuICAgKiA+IFF1YW5kbyBlc3RhIHByb3ByaWVkYWRlIGZvciBkZWZpbmlkYSwgaXLDoSBzb2JyZXBvciBhIGRlZmluacOnw6NvIGRlIGBwLWNvbG9yYCBlIGBwLWljb25gIHNvbWVudGUgc2Vyw6EgZXhpYmlkbyBjYXNvIHNlamEgYHRydWVgLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgaW5mb2BcbiAgICovXG4gIEBJbnB1dCgncC10eXBlJykgc2V0IHR5cGUodmFsdWU6IFBvVGFnVHlwZSkge1xuICAgIHRoaXMuX3R5cGUgPSAoPGFueT5PYmplY3QpLnZhbHVlcyhQb1RhZ1R5cGUpLmluY2x1ZGVzKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgZ2V0IHR5cGUoKTogUG9UYWdUeXBlIHtcbiAgICByZXR1cm4gdGhpcy5fdHlwZTtcbiAgfVxufVxuIl19