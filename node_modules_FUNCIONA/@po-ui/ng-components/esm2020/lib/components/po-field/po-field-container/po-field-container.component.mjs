import { ChangeDetectionStrategy, Component, Input } from '@angular/core';
import { convertToBoolean } from '../../../utils/util';
import { poFieldContainerLiterals } from './po-field-container-literals';
import * as i0 from "@angular/core";
import * as i1 from "../../../services/po-language/po-language.service";
import * as i2 from "@angular/common";
import * as i3 from "../../po-label/po-label.component";
function PoFieldContainerComponent_po_label_2_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelement(0, "po-label", 4);
} if (rf & 2) {
    const ctx_r0 = i0.ɵɵnextContext();
    i0.ɵɵproperty("p-disabled", ctx_r0.disabled)("p-for", ctx_r0.id)("p-label", ctx_r0.label)("p-requirement", ctx_r0.requirement);
} }
function PoFieldContainerComponent_div_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementStart(0, "div", 5);
    i0.ɵɵtext(1);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r1 = i0.ɵɵnextContext();
    i0.ɵɵadvance(1);
    i0.ɵɵtextInterpolate(ctx_r1.help);
} }
const _c0 = ["*"];
/**
 * @docsPrivate
 *
 * Componente de uso interno, responsável por atribuir uma label para o campo
 */
export class PoFieldContainerComponent {
    constructor(languageService) {
        this._optional = false;
        this._required = false;
        /** Define se a indicação de campo obrigatório será exibida. */
        this.showRequired = false;
        const language = languageService.getShortLanguage();
        this.literals = {
            ...poFieldContainerLiterals[language]
        };
    }
    /** Indica se o campo será opcional. */
    set optional(value) {
        this._optional = convertToBoolean(value);
    }
    get optional() {
        return this._optional;
    }
    /** Indica se o campo será obrigatório. */
    set required(value) {
        this._required = convertToBoolean(value);
    }
    get required() {
        return this._required;
    }
    ngOnInit() {
        this.setRequirement();
    }
    ngOnChanges(changes) {
        if (changes.help || changes.label || changes.optional || changes.required || changes.showRequired) {
            this.setRequirement();
        }
    }
    setRequirement() {
        if (this.label || this.help) {
            if (!this.required && this.optional) {
                this.requirement = this.literals['optional'];
            }
            else if (this.required && this.showRequired) {
                this.requirement = this.literals['required'];
            }
            else {
                this.requirement = undefined;
            }
        }
    }
}
PoFieldContainerComponent.ɵfac = function PoFieldContainerComponent_Factory(t) { return new (t || PoFieldContainerComponent)(i0.ɵɵdirectiveInject(i1.PoLanguageService)); };
PoFieldContainerComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PoFieldContainerComponent, selectors: [["po-field-container"]], inputs: { disabled: ["p-disabled", "disabled"], id: ["p-id", "id"], label: ["p-label", "label"], help: ["p-help", "help"], optional: ["p-optional", "optional"], required: ["p-required", "required"], showRequired: ["p-show-required", "showRequired"] }, features: [i0.ɵɵNgOnChangesFeature], ngContentSelectors: _c0, decls: 5, vars: 2, consts: [[1, "po-field-container"], [1, "po-field-container-title"], ["p-field", "true", 3, "p-disabled", "p-for", "p-label", "p-requirement", 4, "ngIf"], ["class", "po-field-help", 4, "ngIf"], ["p-field", "true", 3, "p-disabled", "p-for", "p-label", "p-requirement"], [1, "po-field-help"]], template: function PoFieldContainerComponent_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵprojectionDef();
        i0.ɵɵelementStart(0, "div", 0)(1, "div", 1);
        i0.ɵɵtemplate(2, PoFieldContainerComponent_po_label_2_Template, 1, 4, "po-label", 2);
        i0.ɵɵelementEnd();
        i0.ɵɵtemplate(3, PoFieldContainerComponent_div_3_Template, 2, 1, "div", 3);
        i0.ɵɵprojection(4);
        i0.ɵɵelementEnd();
    } if (rf & 2) {
        i0.ɵɵadvance(2);
        i0.ɵɵproperty("ngIf", ctx.label || ctx.help);
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngIf", ctx.help);
    } }, dependencies: [i2.NgIf, i3.PoLabelComponent], encapsulation: 2, changeDetection: 0 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(PoFieldContainerComponent, [{
        type: Component,
        args: [{ selector: 'po-field-container', changeDetection: ChangeDetectionStrategy.OnPush, template: "<div class=\"po-field-container\">\n  <div class=\"po-field-container-title\">\n    <po-label\n      *ngIf=\"label || help\"\n      [p-disabled]=\"disabled\"\n      p-field=\"true\"\n      [p-for]=\"id\"\n      [p-label]=\"label\"\n      [p-requirement]=\"requirement\"\n    ></po-label>\n  </div>\n\n  <div class=\"po-field-help\" *ngIf=\"help\">{{ help }}</div>\n\n  <ng-content></ng-content>\n</div>\n" }]
    }], function () { return [{ type: i1.PoLanguageService }]; }, { disabled: [{
            type: Input,
            args: ['p-disabled']
        }], id: [{
            type: Input,
            args: ['p-id']
        }], label: [{
            type: Input,
            args: ['p-label']
        }], help: [{
            type: Input,
            args: ['p-help']
        }], optional: [{
            type: Input,
            args: ['p-optional']
        }], required: [{
            type: Input,
            args: ['p-required']
        }], showRequired: [{
            type: Input,
            args: ['p-show-required']
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tZmllbGQtY29udGFpbmVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3VpL3NyYy9saWIvY29tcG9uZW50cy9wby1maWVsZC9wby1maWVsZC1jb250YWluZXIvcG8tZmllbGQtY29udGFpbmVyLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3VpL3NyYy9saWIvY29tcG9uZW50cy9wby1maWVsZC9wby1maWVsZC1jb250YWluZXIvcG8tZmllbGQtY29udGFpbmVyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFvQyxNQUFNLGVBQWUsQ0FBQztBQUU1RyxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUV2RCxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQzs7Ozs7O0lDRnJFLDhCQU9ZOzs7SUFMViw0Q0FBdUIsb0JBQUEseUJBQUEscUNBQUE7OztJQVEzQiw4QkFBd0M7SUFBQSxZQUFVO0lBQUEsaUJBQU07OztJQUFoQixlQUFVO0lBQVYsaUNBQVU7OztBRE5wRDs7OztHQUlHO0FBTUgsTUFBTSxPQUFPLHlCQUF5QjtJQXdDcEMsWUFBWSxlQUFrQztRQXhCdEMsY0FBUyxHQUFZLEtBQUssQ0FBQztRQUMzQixjQUFTLEdBQVksS0FBSyxDQUFDO1FBb0JuQywrREFBK0Q7UUFDckMsaUJBQVksR0FBWSxLQUFLLENBQUM7UUFHdEQsTUFBTSxRQUFRLEdBQUcsZUFBZSxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFFcEQsSUFBSSxDQUFDLFFBQVEsR0FBRztZQUNkLEdBQUcsd0JBQXdCLENBQUMsUUFBUSxDQUFDO1NBQ3RDLENBQUM7SUFDSixDQUFDO0lBM0JELHVDQUF1QztJQUN2QyxJQUF5QixRQUFRLENBQUMsS0FBYztRQUM5QyxJQUFJLENBQUMsU0FBUyxHQUFHLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFRCxJQUFJLFFBQVE7UUFDVixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDeEIsQ0FBQztJQUVELDBDQUEwQztJQUMxQyxJQUF5QixRQUFRLENBQUMsS0FBYztRQUM5QyxJQUFJLENBQUMsU0FBUyxHQUFHLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFRCxJQUFJLFFBQVE7UUFDVixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDeEIsQ0FBQztJQWFELFFBQVE7UUFDTixJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUVELFdBQVcsQ0FBQyxPQUFzQjtRQUNoQyxJQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEtBQUssSUFBSSxPQUFPLENBQUMsUUFBUSxJQUFJLE9BQU8sQ0FBQyxRQUFRLElBQUksT0FBTyxDQUFDLFlBQVksRUFBRTtZQUNqRyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7U0FDdkI7SUFDSCxDQUFDO0lBRU8sY0FBYztRQUNwQixJQUFJLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtZQUMzQixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO2dCQUNuQyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUM7YUFDOUM7aUJBQU0sSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUU7Z0JBQzdDLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQzthQUM5QztpQkFBTTtnQkFDTCxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQzthQUM5QjtTQUNGO0lBQ0gsQ0FBQzs7a0dBcEVVLHlCQUF5Qjs0RUFBekIseUJBQXlCOztRQ2hCdEMsOEJBQWdDLGFBQUE7UUFFNUIsb0ZBT1k7UUFDZCxpQkFBTTtRQUVOLDBFQUF3RDtRQUV4RCxrQkFBeUI7UUFDM0IsaUJBQU07O1FBWkMsZUFBbUI7UUFBbkIsNENBQW1CO1FBU0ksZUFBVTtRQUFWLCtCQUFVOzt1RkRJM0IseUJBQXlCO2NBTHJDLFNBQVM7MkJBQ0Usb0JBQW9CLG1CQUViLHVCQUF1QixDQUFDLE1BQU07b0VBSTFCLFFBQVE7a0JBQTVCLEtBQUs7bUJBQUMsWUFBWTtZQUdKLEVBQUU7a0JBQWhCLEtBQUs7bUJBQUMsTUFBTTtZQUdLLEtBQUs7a0JBQXRCLEtBQUs7bUJBQUMsU0FBUztZQUdDLElBQUk7a0JBQXBCLEtBQUs7bUJBQUMsUUFBUTtZQVNVLFFBQVE7a0JBQWhDLEtBQUs7bUJBQUMsWUFBWTtZQVNNLFFBQVE7a0JBQWhDLEtBQUs7bUJBQUMsWUFBWTtZQVNPLFlBQVk7a0JBQXJDLEtBQUs7bUJBQUMsaUJBQWlCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENvbXBvbmVudCwgSW5wdXQsIE9uQ2hhbmdlcywgT25Jbml0LCBTaW1wbGVDaGFuZ2VzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IGNvbnZlcnRUb0Jvb2xlYW4gfSBmcm9tICcuLi8uLi8uLi91dGlscy91dGlsJztcbmltcG9ydCB7IFBvTGFuZ3VhZ2VTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvcG8tbGFuZ3VhZ2UvcG8tbGFuZ3VhZ2Uuc2VydmljZSc7XG5pbXBvcnQgeyBwb0ZpZWxkQ29udGFpbmVyTGl0ZXJhbHMgfSBmcm9tICcuL3BvLWZpZWxkLWNvbnRhaW5lci1saXRlcmFscyc7XG5cbi8qKlxuICogQGRvY3NQcml2YXRlXG4gKlxuICogQ29tcG9uZW50ZSBkZSB1c28gaW50ZXJubywgcmVzcG9uc8OhdmVsIHBvciBhdHJpYnVpciB1bWEgbGFiZWwgcGFyYSBvIGNhbXBvXG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3BvLWZpZWxkLWNvbnRhaW5lcicsXG4gIHRlbXBsYXRlVXJsOiAnLi9wby1maWVsZC1jb250YWluZXIuY29tcG9uZW50Lmh0bWwnLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxufSlcbmV4cG9ydCBjbGFzcyBQb0ZpZWxkQ29udGFpbmVyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMge1xuICAvKiogSW5kaWNhIHNlIG8gY2FtcG8gc2Vyw6EgZGVzYWJpbGl0YWRvLiAqL1xuICBASW5wdXQoJ3AtZGlzYWJsZWQnKSBkaXNhYmxlZDogYm9vbGVhbjtcblxuICAvKiogSWRlbnRpZmljYWRvciBkbyBjYW1wbyAqL1xuICBASW5wdXQoJ3AtaWQnKSBpZDogc3RyaW5nO1xuXG4gIC8qKiBMYWJlbCBkbyBjYW1wby4gKi9cbiAgQElucHV0KCdwLWxhYmVsJykgbGFiZWw/OiBzdHJpbmc7XG5cbiAgLyoqIFRleHRvIGRlIGFwb2lvIGRvIGNhbXBvLiAqL1xuICBASW5wdXQoJ3AtaGVscCcpIGhlbHA6IHN0cmluZztcblxuICBsaXRlcmFsczogb2JqZWN0O1xuICByZXF1aXJlbWVudDogc3RyaW5nO1xuXG4gIHByaXZhdGUgX29wdGlvbmFsOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgX3JlcXVpcmVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqIEluZGljYSBzZSBvIGNhbXBvIHNlcsOhIG9wY2lvbmFsLiAqL1xuICBASW5wdXQoJ3Atb3B0aW9uYWwnKSBzZXQgb3B0aW9uYWwodmFsdWU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9vcHRpb25hbCA9IGNvbnZlcnRUb0Jvb2xlYW4odmFsdWUpO1xuICB9XG5cbiAgZ2V0IG9wdGlvbmFsKCkge1xuICAgIHJldHVybiB0aGlzLl9vcHRpb25hbDtcbiAgfVxuXG4gIC8qKiBJbmRpY2Egc2UgbyBjYW1wbyBzZXLDoSBvYnJpZ2F0w7NyaW8uICovXG4gIEBJbnB1dCgncC1yZXF1aXJlZCcpIHNldCByZXF1aXJlZCh2YWx1ZTogYm9vbGVhbikge1xuICAgIHRoaXMuX3JlcXVpcmVkID0gY29udmVydFRvQm9vbGVhbih2YWx1ZSk7XG4gIH1cblxuICBnZXQgcmVxdWlyZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVpcmVkO1xuICB9XG5cbiAgLyoqIERlZmluZSBzZSBhIGluZGljYcOnw6NvIGRlIGNhbXBvIG9icmlnYXTDs3JpbyBzZXLDoSBleGliaWRhLiAqL1xuICBASW5wdXQoJ3Atc2hvdy1yZXF1aXJlZCcpIHNob3dSZXF1aXJlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKGxhbmd1YWdlU2VydmljZTogUG9MYW5ndWFnZVNlcnZpY2UpIHtcbiAgICBjb25zdCBsYW5ndWFnZSA9IGxhbmd1YWdlU2VydmljZS5nZXRTaG9ydExhbmd1YWdlKCk7XG5cbiAgICB0aGlzLmxpdGVyYWxzID0ge1xuICAgICAgLi4ucG9GaWVsZENvbnRhaW5lckxpdGVyYWxzW2xhbmd1YWdlXVxuICAgIH07XG4gIH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLnNldFJlcXVpcmVtZW50KCk7XG4gIH1cblxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XG4gICAgaWYgKGNoYW5nZXMuaGVscCB8fCBjaGFuZ2VzLmxhYmVsIHx8IGNoYW5nZXMub3B0aW9uYWwgfHwgY2hhbmdlcy5yZXF1aXJlZCB8fCBjaGFuZ2VzLnNob3dSZXF1aXJlZCkge1xuICAgICAgdGhpcy5zZXRSZXF1aXJlbWVudCgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2V0UmVxdWlyZW1lbnQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubGFiZWwgfHwgdGhpcy5oZWxwKSB7XG4gICAgICBpZiAoIXRoaXMucmVxdWlyZWQgJiYgdGhpcy5vcHRpb25hbCkge1xuICAgICAgICB0aGlzLnJlcXVpcmVtZW50ID0gdGhpcy5saXRlcmFsc1snb3B0aW9uYWwnXTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5yZXF1aXJlZCAmJiB0aGlzLnNob3dSZXF1aXJlZCkge1xuICAgICAgICB0aGlzLnJlcXVpcmVtZW50ID0gdGhpcy5saXRlcmFsc1sncmVxdWlyZWQnXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVxdWlyZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCI8ZGl2IGNsYXNzPVwicG8tZmllbGQtY29udGFpbmVyXCI+XG4gIDxkaXYgY2xhc3M9XCJwby1maWVsZC1jb250YWluZXItdGl0bGVcIj5cbiAgICA8cG8tbGFiZWxcbiAgICAgICpuZ0lmPVwibGFiZWwgfHwgaGVscFwiXG4gICAgICBbcC1kaXNhYmxlZF09XCJkaXNhYmxlZFwiXG4gICAgICBwLWZpZWxkPVwidHJ1ZVwiXG4gICAgICBbcC1mb3JdPVwiaWRcIlxuICAgICAgW3AtbGFiZWxdPVwibGFiZWxcIlxuICAgICAgW3AtcmVxdWlyZW1lbnRdPVwicmVxdWlyZW1lbnRcIlxuICAgID48L3BvLWxhYmVsPlxuICA8L2Rpdj5cblxuICA8ZGl2IGNsYXNzPVwicG8tZmllbGQtaGVscFwiICpuZ0lmPVwiaGVscFwiPnt7IGhlbHAgfX08L2Rpdj5cblxuICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XG48L2Rpdj5cbiJdfQ==